<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>マルバツゲーム</title>
    <style>
        .row {
            display: flex;
            justify-content: center;
        }

        .row div {
            border: 1px solid black;
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 40px;
            line-height: 1.3;
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <h1>マルバツゲーム</h1>
    <div class="row">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div class="row">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div class="row">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <script>
        let count = 0;
        const mas = document.querySelectorAll('.row div');
        for (let i = 0; i < 9; i++) {
            mas[i].addEventListener('click', function () {
                if (count % 2 == 0) {
                    mas[i].textContent = "⚪︎"
                    date[i] = "⚪︎"

                } else {
                    mas[i].textContent = "✖️"
                    date[i] = "✖︎"

                }
                win()
                count++;
                console.log(date)

            },
                { once: true });
        }

        const date = [
            '', '', '',
            '', '', '',
            '', '', '',

        ]

        const row = document.querySelectorAll('.row')
        function win() {
            const row1 = date[0] === "⚪︎" && date[1] === "⚪︎" && date[2] === "⚪︎" || date[0] === "✖︎" && date[1] === "✖︎" && date[2] === "✖︎"
            const row2 = date[3] === "⚪︎" && date[4] === "⚪︎" && date[5] === "⚪︎" || date[3] === "✖︎" && date[4] === "✖︎" && date[5] === "✖︎"
            const row3 = date[6] === "⚪︎" && date[7] === "⚪︎" && date[8] === "⚪︎" || date[6] === "✖︎" && date[7] === "✖︎" && date[8] === "✖︎"
            const col1 = date[0] === "⚪︎" && date[3] === "⚪︎" && date[6] === "⚪︎" || date[0] === "✖︎" && date[3] === "✖︎" && date[6] === "✖︎"
            const col2 = date[1] === "⚪︎" && date[4] === "⚪︎" && date[7] === "⚪︎" || date[1] === "✖︎" && date[4] === "✖︎" && date[7] === "✖︎"
            const col3 = date[2] === "⚪︎" && date[5] === "⚪︎" && date[8] === "⚪︎" || date[2] === "✖︎" && date[5] === "✖︎" && date[8] === "✖︎"
            const dal1 = date[0] === "⚪︎" && date[4] === "⚪︎" && date[8] === "⚪︎" || date[0] === "✖︎" && date[4] === "✖︎" && date[8] === "✖︎"
            const dal2 = date[2] === "⚪︎" && date[4] === "⚪︎" && date[6] === "⚪︎" || date[2] === "✖︎" && date[4] === "✖︎" && date[6] === "✖︎"
            if (row1 === true || row2 === true || row3 === true || col1 === true || col2 === true || col3 === true || dal1 === true || dal2 === true) {
                window.alert("あなたの勝ちです！")
            } if (count === 8 && row1 === false && row2 === false && row3 === false && col1 === false && col2 === false && col3 === false && dal1 === false && dal2 === false) {
                window.alert("引き分けです")
            }

        }



    </script>
</body>

</html>